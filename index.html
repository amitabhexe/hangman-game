<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Hangman Game</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Brython runtime -->
    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython_stdlib.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        #output { font-family: 'Fira Code', monospace; white-space: pre-wrap; }
    </style>
</head>
<body onload="brython()" class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        <header class="text-center mb-6">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Hangman Game</h1>
            <p class="text-gray-600 mt-2">Click the "Run Game" button to start playing!</p>
        </header>

        <main class="bg-white p-6 rounded-xl shadow-lg">
            <!-- Run Button -->
            <div class="text-center my-6">
                <button id="run-button" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transform hover:scale-105 transition-transform duration-200 shadow-md">
                    Run Game
                </button>
            </div>

            <!-- Output Display Area -->
            <div>
                <h2 class="text-lg font-semibold text-gray-700 mb-2">Game Output:</h2>
                <pre id="output" class="w-full min-h-[200px] p-4 bg-gray-900 text-white rounded-lg break-words"></pre>
            </div>
        </main>

        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Powered by <a href="https://brython.info" target="_blank" class="text-blue-500 hover:underline">Brython</a>. Hosted on GitHub Pages.</p>
        </footer>
    </div>

    <!-- Brython game script -->
    <script type="text/python">
from browser import document, window
import random

def run_game(ev):
    stages = [r'''
      +---+
      |   |
      O   |
     /|\\  |
     / \\  |
          |
    =========
    ''',
    r'''
      +---+
      |   |
      O   |
     /|\\  |
     /     |
          |
    =========
    ''',
    r'''
      +---+
      |   |
      O   |
     /|\\  |
          |
          |
    =========
    ''',
    r'''
      +---+
      |   |
      O   |
     /|    |
          |
          |
    =========
    ''',
    r'''
      +---+
      |   |
      O   |
      |    |
          |
          |
    =========
    ''',
    r'''
      +---+
      |   |
      O    |
          |
          |
          |
    =========
    ''',
    r'''
      +---+
      |   |
          |
          |
          |
          |
    =========
    ''']

    logo = r''' 
     _                                             
    | |                                            
    | |__   __ _ _ __   __ _ _ __ ___   __ _ _ __  
    | '_ \\/ _` | '_ \\/ _` | '_ ` _ \\/ _` | '_ \\ 
    | | | | (_| | | | | (_| | | | | | | (_| | | | |
    |_| |_|\__,_|_| |_|\__, |_| |_| |_|\__,_|_| |_|
                        __/ |                      
                       |___/    '''

    word_list = [
        'abruptly', 'absurd', 'abyss', 'affix', 'askew', 'avenue', 'awkward',
        'axiom', 'azure', 'bagpipes', 'bandwagon', 'banjo', 'bayou', 'beekeeper',
        'bikini', 'blitz', 'blizzard', 'boggle', 'bookworm', 'boxcar', 'boxful'
    ]

    lives = 6
    chosen_word = random.choice(word_list)
    placeholder = ['_' for _ in chosen_word]
    correct_letters = []
    game_over = False

    output = document['output']
    output.text = logo + "\n\n"
    output.text += "Word to guess: " + ' '.join(placeholder) + "\n\n"

    while not game_over:
        output.text += f"\n****************************{lives}/6 LIVES LEFT****************************\n"
        guess = window.prompt("Guess a letter:").lower()

        if not guess or len(guess) != 1 or not guess.isalpha():
            output.text += "Invalid input. Please enter a single letter.\n"
            continue

        if guess in correct_letters:
            output.text += f"You have already guessed {guess}!\n"
        
        for idx, letter in enumerate(chosen_word):
            if letter == guess:
                placeholder[idx] = guess
                if guess not in correct_letters:
                    correct_letters.append(guess)

        if guess not in chosen_word:
            lives -= 1
            output.text += f"You guessed {guess}.
That letter is not in the word.
You lose a life.\n"
            if lives == 0:
                game_over = True
                output.text += f"\n***********************YOU LOSE**********************\nThe word was: {chosen_word}\n"

        output.text += "Word to guess: " + ' '.join(placeholder) + "\n"

        if '_' not in placeholder:
            game_over = True
            output.text += "\n****************************YOU WIN****************************\n"

        output.text += stages[6 - lives] + "\n"

document['run-button'].bind('click', run_game)
    </script>
</body>
</html>
